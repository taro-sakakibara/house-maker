# House Maker - 引き継ぎドキュメント

## プロジェクト概要

3D 家具配置アプリ「House Maker」の UI 改善プロジェクト

## 現在の状況

サイドバー UI の大幅リニューアル中。現在の見た目が「ぐちゃぐちゃ」で、参考画像のようなスッキリした UI に変更したい。

## 目標デザイン

`debugImages/needed-saidebar.png` のような：

- ダークグリーン背景の縦長サイドバー
- 白いアイコン＋テキストのシンプルなメニュー項目
- アクティブ項目は白背景で強調
- 各項目クリックでドロワー展開（複数項目がある場合）

## 技術スタック

- **フレームワーク**: Next.js (App Router)
- **言語**: TypeScript
- **3D 描画**: React Three Fiber + Three.js
- **スタイリング**: Tailwind CSS
- **データ保存**: ローカル JSON ファイル
- **状態管理**: Context API

## 実装した内容（CSS 問題あり）

1. **新しい Sidebar 構造** (`components/layout/Sidebar.tsx`)

   - メインサイドバー + ドロワー形式
   - 4 つのメニュー項目：部屋設定、家具管理、プロジェクト管理、保存

2. **ドロワーコンポーネント**
   - `components/drawers/RoomDrawer.tsx` - 部屋一覧＋新規作成
   - `components/drawers/FurnitureDrawer.tsx` - 家具一覧＋新規作成
   - `components/drawers/ProjectDrawer.tsx` - プロジェクト一覧＋新規作成

## CSS 問題

- Tailwind クラスが正しく適用されていない
- 実際の見た目が全然違う（`debugImages/current-sidebar.png`参照）
- アイコンが表示されない可能性
- 色合いやレイアウトが想定と異なる

## 次のタスク

1. **CSS 修正** - 参考画像通りの見た目に調整
2. **ドロワー動作確認** - 展開/折りたたみが正常に動作するか
3. **レスポンシブ対応** - 幅の調整など

## 重要ファイル

- `components/layout/Sidebar.tsx` - メインサイドバー
- `components/drawers/` - 各ドロワーコンポーネント
- `components/RoomForm.tsx`, `FurnitureForm.tsx` - フォーム（既存、マテリアルデザイン調整済み）
- `components/RoomList.tsx`, `FurnitureList.tsx` - リスト表示（既存、マテリアルデザイン調整済み）
- `contexts/AppContext.tsx` - 状態管理

## 既存機能

- 複数プロジェクト管理システム
- 部屋作成（1 つまで制限）
- 家具配置・編集
- 3D 表示（Three.js）
- ローカル JSON 保存

## デバッグ用画像

- `debugImages/current-sidebar.png` - 現在の問題のある見た目
- `debugImages/needed-saidebar.png` - 目標とする見た目

## 注意点

- CSS/Tailwind の組み合わせが苦手なため、実装コードと実際の見た目に乖離あり
- 段階的なスクリーンショット確認が必要
- 既存のフォーム・リストコンポーネントは問題なく動作する

## 効率化提案

- shadcn/ui など既存コンポーネント活用
- 完成された CSS サンプルの流用
- 1 つずつではなく完成形を一気に作成

---

_引き継ぎ作成: 2025-08-09_

# 以下、元の開発ガイドライン

## 開発方針

1. **会話形式**: ステップバイステップで進め、基本的に一問一答形式
2. **デプロイ**: デプロイ予定なし（ローカル環境での使用）
3. **コミット**: 明示的に指示があった場合のみ実行

## 作業の進め方

1. **タスクリストを順番に実装すること**
2. **タスクリストを完了したらチェックを入れること**
3. **作業単位でコミットを行うこと**
4. **タスクリスト外のタスクを行う場合、随時 CLAUDE.md に追記してから進めること**
5. **タスク単位に限らず、随時エラーがないか。動いてるか。実装に問題ないかを確認すること**
6. **各タスク完了後、ブラウザでの表示確認を行うこと**

## タスクリスト

### フェーズ 1：基盤構築

- [x] 基本的なレイアウトコンポーネントの作成（ヘッダー、サイドバー、3D ビューエリア）
- [x] 部屋データの型定義と状態管理の実装
- [x] 部屋の入力フォームコンポーネントの作成
- [x] 部屋入力フォームをプリセット形状ベースに改修
- [x] 3D シーンの基本セットアップ（カメラ、ライト、コントロール）
- [x] 直交多角形の部屋を 3D で表示する機能

### フェーズ 2：家具機能

- [x] 家具データの型定義と管理機能
- [x] 家具の作成・編集フォームの実装
- [x] 家具の 3D 表示とドラッグ&ドロップ機能
- [x] 家具の回転・サイズ変更機能

### フェーズ 3：データ保存

- [x] JSON ファイルの保存・読み込み機能

## コマンド

```bash
# 開発サーバー起動
npm run dev

# ビルド
npm run build

# Lint
npm run lint
```
